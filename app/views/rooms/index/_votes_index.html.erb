<div class="background-rounded-white-no-tab p-3  justify-content-center">
  <div class="d-flex align-items-center mb-3">
    <p><strong>Mon classement</strong></p>
    <div class="d-flex ml-auto">
      <% if @trip.user == current_user %>
        <%= button_to trip_back_propositions_path(@trip), method: :put, class: "btn btn-outline-primary btn-sm text-center" do %>
          <i class="fas fa-undo-alt"></i> Propositions
        <% end %>
      <% end %>
    </div>
  </div>

  <p class="text-center mb-3 px-3" style="font-size: 0.8rem"><small>Organiser les logements dans votre ordre de préférence puis "voter"</small></p>
  <ol class="list-group list-group-flush border-0 " style="<%= 'filter: grayscale(100%)' if !@participant.room_votes.empty?%>" <%= 'data-controller=drag' if @participant.room_votes.empty? %>>
    <% @rooms.each_with_index do |room, index| %>
    <li class="list-group-item p-0" style="border-width: 0" data-drag-target="row" data-id="<%= room.id %>">
      <%= render partial: 'shared/room_votes_card', locals: {room: room, user: @user, index: index + 1} %>
    </li>
    <% end %>
  </ol>
  <% if @participant.room_votes.empty? %>
    <%= form_for(@participant, html:{id: "vote_form"}, :url => participant_save_room_votes_path(@participant, trip_id: @trip.id)) do %>
      <%= hidden_field_tag(:room_votes, "", id: "ranks", class: "hidden" ) %>
      <%= button_tag(type: "submit", class: "btn btn-primary btn-valid-vote") do %>
        <i class="fas fa-vote-yea mr-1"></i> Voter
      <% end %>
    <% end %>
  <% else %>
    <p>Vous avez voté</p>
  <% end %>
</div>